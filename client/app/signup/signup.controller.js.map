{"version":3,"sources":["app/signup/signup.controller.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,CAAC,WAAW,qBAAqB,oBAAoB,gCAAgC,iEAAiE,wEAAwE,UAAU,SAAS;EAC/P,IACK,SAGA,aACA,uBACA,0BAAwB,cAAA,iBAEzB,kBAQA;;EAdJ,OAAO;IACL,SAAS,CAAC,UAAU,UAAU;MAF3B,UAAO,SAAA;OAIP,UAAU,kBAAkB,IAAI,UAAU,kBAAkB,IAAI,UAAU,4BAA4B;MADtG,cAAW,2BAAA;OAGX,UAAU,6DAA6D;MAFvE,wBAAqB,4DAAA;OAIrB,UAAU,mEAAmE;MAH7E,2BAAwB,kEAAA;;IAM3B,SAAS,YAAY;MAbzB;;MAgBM,eAAe,CAAC,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,OAAO,OAAO,EAAE,IAAI,OAAO,MAAM,MAAM,KAAK,eAAe,MAAM,IAAI,KAAK,OAAO,KAAK,WAAW,QAAQ,OAAO,iBAAiB,QAAQ,UAAU,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;MAEva,kBAAkB,UAAU,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;MATnH,mBAAmB,QAAQ,OAAO,wBAAwB,CAC9D,aACA,cACA,YAAY,MACZ,sBAAsB,MACtB,yBAAyB;;MAGrB,aAAU,CAAA,YAAA;QACF,SADR,WACS,QAAQ,UAAU,MAAM;UAM7B,gBAAgB,MAPpB;;UAEF,KAAK,SAAS;;UAEd,KAAK,OAAO;;UAEZ,KAAK,aAAa;UAClB,KAAK,OAAO;UACZ,KAAK,KAAK,QAAQ;UAClB,KAAK,KAAK,WAAW;UACrB,KAAK,SAAS;;;QAUV,aApBF,YAAU;UAcd,QAAM;;;YAUI,OAVH,SAAA,SAAG;cAWE,IAAI,QAAQ;;cAVtB,IAAG,KAAK,WAAW,UAAU,CAAC,KAAK,WAAW,YAAY;;gBAExD,KAAK,WAAW,aAAa;;gBAE7B,KAAK,KAAK,WAAW;kBACnB,WAAW,KAAK,KAAK;kBACrB,UAAU,KAAK,KAAK;kBACpB,OAAO,KAAK,KAAK;kBACjB,UAAU,KAAK,KAAK,YAErB,KAAM,YAAM;;kBAEX,MAAK,OAAO,GAAG,WAAW,MAAM,EAAE,QAAQ;kBAC1C,MAAK,WAAW,aAAa;mBAC7B,SACM,UAAC,KAAQ;kBACf,MAAK,OAAO,IAAI,KAAK,QAAQ,IAAI;kBACjC,MAAK,WAAW,aAAa;;;;;;;QAgB7B,OAhDF;;;MAsCN,iBAAiB,WAAW,cAAc,CAAC,UAAU,YAAY,QAAQ;;MAenE,QAAQ,WAbC;;;GAgBZ","file":"signup.controller.js","sourcesContent":["'use strict';\n\nimport angular from 'angular';\nimport 'angular-ui-router';\nimport 'angular-messages';\nimport authService from 'common/services/auth.service';\nimport customEmailValidation from 'common/directives/customEmailValidation/customEmailValidation';\nimport customPasswordValidation from 'common/directives/customPasswordValidation/customPasswordValidation';\n\nconst signupCtrlModule = angular.module('signup.controller.js', [\n  'ui.router',\n  'ngMessages',\n  authService.name,\n  customEmailValidation.name,\n  customPasswordValidation.name\n]);\n\nclass SignupCtrl {\n  constructor ($state, $animate, Auth) {\n    this.$state = $state;\n\n    this.Auth = Auth;\n\n    this.signupForm = {};\n    this.user = {};\n    this.user.email = '';\n    this.user.password = '';\n    this.errors = {};\n  }\n  // public methods\n\n  signup () {\n    if(this.signupForm.$valid && !this.signupForm.$submitted) {\n\n      this.signupForm.$submitted = true;\n\n      this.Auth.createUser({\n        firstName: this.user.firstname,\n        lastName: this.user.lastname,\n        email: this.user.email,\n        password: this.user.password,\n      })\n      .then( () => {\n        // Logged in, redirect to home\n        this.$state.go('content', null, { reload: true });\n        this.signupForm.$submitted = false;\n      })\n      .catch( (err) => {\n        this.errors[err.data.code] = err.data;\n        this.signupForm.$submitted = false;\n      });\n    }\n  }\n}\n\nsignupCtrlModule.controller('SignupCtrl', ['$state', '$animate', 'Auth', SignupCtrl ]);\n\nexport default signupCtrlModule;\n"]}