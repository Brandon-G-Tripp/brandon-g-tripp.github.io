{"version":3,"sources":["app/home/home.controller.js"],"names":["angular","HomeCtrl","$scope","$mdMedia","$http","Config","script","document","createElement","src","async","entry","getElementsByTagName","parentNode","insertBefore","get","then","res","data","map","item","_","post","excerpt","rendered","link","blogPosts"],"mappings":"AAAA;;AAEA,OAAO,SAAS,CAAC,UAAU,YAAY,UAAU,SAAS,UAAU;EAClE;;EAEA,IAAI,SAAS;;EAEb,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;EAEhH,SAAS,kBAAkB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK;;EAE7S,SAAS,aAAa,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,kBAAkB,YAAY,WAAW,aAAa,IAAI,aAAa,kBAAkB,aAAa,cAAc,OAAO;;EAEzM,OAAO;IACL,SAAS,CAAC,UAAU,SAAS,IAAI,UAAU,UAAU;MAXlDA,UAYS,SAAS;;IAErB,SAAS,YAAY;MAZnBC;;MAeA,YAAY;;QAZhB,SAAA,SAAaC,QAAQC,UAAUC,OAAOC,QAAQ;UAAA,IAAA,QAAA;;UAAA,gBAAA,MAAA;;UAC5C,KAAKH,SAASA;UACd,KAAKC,WAAWA;UAChB,KAAKC,QAAQA;UACb,KAAKC,SAASA;;UAEd,CAAC,YAAW;YACV,IAAIC,SAASC,SAASC,cAAc;YACpCF,OAAOG,MAAM;YACbH,OAAOI,QAAQ;YACf,IAAIC,QAAQJ,SAASK,qBAAqB,UAAU;YACpDD,MAAME,WAAWC,aAAaR,QAAQK;;;UAGxC,KAAKP,MAAMW,IAAI,wFACdC,KAAM,UAAAC,KAAO;YACZA,IAAIC,KAAKC,IAAK,UAAAC,MAAQ;cACpB,IAAKC,EAAEN,IAAKK,MAAM,0BAA4B;gBAC5CA,KAAKE,KAAKC,QAAQC,WAAWJ,KAAKE,KAAKC,QAAQC,WAAlB,aAAA,OAA0CJ,KAAKK,MAA/C;;;cAE/B,OAAOL;;YAET,MAAKM,YAAYT,IAAIC;;;;;QAuBnB,aAAa,UAAU,CAAC;UACtB,KAAK;UACL,OAAO,SAAS,qBAnBF;;;;QAuBhB,OAAO;;;MAGT,QAAQ,WArBCjB;;;GAwBZ","file":"home.controller.js","sourcesContent":["'use strict';\nimport 'lodash';\n\nimport angular from 'angular';\n\nclass HomeCtrl {\n\n  // called once when the class is instantiated\n  constructor ($scope, $mdMedia, $http, Config) {\n    this.$scope = $scope;\n    this.$mdMedia = $mdMedia;\n    this.$http = $http;\n    this.Config = Config;\n\n    (function() {\n      var script = document.createElement('script');\n      script.src = 'https://backerkit.com/assets/preorders.js';\n      script.async = true;\n      var entry = document.getElementsByTagName('script')[0];\n      entry.parentNode.insertBefore(script, entry);\n    })();\n\n    this.$http.get('http://blog.openlegendrpg.com/wp-json/wp/v2/posts?per_page=5&_embed=wp:featuredmedia')\n    .then( res => {\n      res.data.map( item => {\n        if ( _.get( item, 'post.excerpt.rendered' ) ) {\n          item.post.excerpt.rendered = item.post.excerpt.rendered + `<a href=\"${ item.link }\">Read On &rarr;</a>`;\n        }\n        return item;\n      });\n      this.blogPosts = res.data;\n    });\n\n  }\n\n  // public class methods\n  deleteThisFunction () {\n    // does nothing\n  }\n}\n\nexport default HomeCtrl;\n\n"]}