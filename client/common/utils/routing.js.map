{"version":3,"sources":["common/utils/routing.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,CAAC,oBAAoB,qBAAqB,UAAU,SAAS;EAC3E,IADK,cAGI;EADT,OAAO;IACL,SAAS,CAAC,UAAU,gBAAgB;MAHjC,eAAY,eAAA;OAKZ,UAAU,iBAAiB;IAC9B,SAAS,YAAY;MACnB;;MAJK,UAAU,SAAA,QAAS,QAAQ;;QAEpC,OAAO,SAAS,KAAK;;QAErB,IAAI,eAAe,CAAC,kBAAkB,wBAAwB,UAAU,gBAAgB,sBAAsB;;UAE5G,qBAAqB,aAAa,QAAQ,CAAC,MAAM,eAAe,eAAe,UAAS,IAAI,aAAa,aAAa;YACpH,IAAI,MAAM,GAAG;;YAEb,OAAM,UAAQ,YAAY,KAAK,KAAK,UAAA,QAAU;cAC5C,IAAI,YAAY;cAChB,IAAI,CAAC,OAAO,MAAM;gBAChB,IAAI,MAAM,OAAO,KAAK;gBACtB,YAAY,OAAO,IAAI;;;cAGzB,YAAY,KAAK,WAAW,KAAK,YAAW;gBAC1C,IAAI;;;;YAIR,OAAO,IAAI;;;UAGb,aAAa,QAAQ,UAAS,GAAG;YAC/B,qBAAqB,YAAY;;;;QAKrC,OAAO;;;MAQH,QAAQ,WAtCH;;;GAyCR","file":"common/utils/routing.js","sourcesContent":["import futureRoutes from 'app/routes.json!';\nimport 'ui-router-extras';\n\nexport var routing = function(module) {\n\n  module.requires.push('ct.ui.router.extras.future');\n  \n  var RouterConfig = ['$stateProvider', '$futureStateProvider', function ($stateProvider, $futureStateProvider) {\n\n    $futureStateProvider.stateFactory('load', ['$q', '$ocLazyLoad', 'futureState', function($q, $ocLazyLoad, futureState) {\n      var def = $q.defer();\n\n      System.import(futureState.src).then(loaded => {\n        var newModule = loaded;\n        if (!loaded.name) {\n          var key = Object.keys(loaded);\n          newModule = loaded[key[0]];\n        }\n        \n        $ocLazyLoad.load(newModule).then(function() {\n          def.resolve();\n        });\n      });\n\n      return def.promise;\n    }]);\n\n    futureRoutes.forEach(function(r) {\n      $futureStateProvider.futureState(r);\n    });\n\n  }];\n\n  return RouterConfig;\n};\n"],"sourceRoot":"/source/"}