{"version":3,"sources":["common/directives/dragIndicator.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,CAAC,YAAY,UAAU,SAAS;EAC9C,IADK,SAED;EAAJ,OAAO;IACL,SAAS,CAAC,UAAU,UAAU;MAH3B,UAAO,SAAA;;IAMV,SAAS,YAAY;MACnB;;MALA,yBAAyB,QAAQ,OAAO,oBAAoB;;MAElE,uBAAuB,UAAU,iBAAiB,YAAY;;QAE5D,OAAO;UACL,UAAU;UACV,gDAAY,SAAA,WAAU,QAAQ,WAAW,UAAU;;YAEjD,IAAM,aAAa;YACnB,IAAM,QAAQ,UAAU,KAAK;YAC7B,IAAI,WAAW;YACf,IAAI,UAAU,CAAC;;YAEf,MAAM,KAAK,uBAAuB,YAAY;cAC1C,WAAW,SAAS;cACpB,MAAM,SAAS;cACf,WAAW;;YAEf,MAAM,KAAK,YAAY,YAAU;cAC7B,WAAW;;YAEf,MAAM,KAAK,kBAAkB,YAAY;cACvC,WAAW;cACX,aAAc;;cAEd,UAAU,WAAY,YAAU;gBAC9B,IAAI,CAAC,UAAU;kBACb,WAAW,YAAY;kBACvB,MAAM,YAAY;;iBAEnB;;;YAGL,OAAO,IAAI,YAAY,YAAY;;cAEjC,MAAM,OAAO;;;;;;MAaf,QAAQ,WALC;;;GAQZ","file":"dragIndicator.js","sourcesContent":["import angular from 'angular';\n\nconst dragIndicatorDirective = angular.module('dragIndicator.js', []);\n\ndragIndicatorDirective.directive('dragIndicator', function () {\n\n  return {\n    restrict: 'EA',\n    controller: function ($scope, $document, $element) {\n\n      const dropTarget = $element;\n      const $body = $document.find('body');\n      let showDrag = false;\n      let timeout = -1;\n      // $body.addClass('file-dragging');\n      $body.bind('dragstart dragenter', function () {\n          dropTarget.addClass('dragging-target');\n          $body.addClass('file-dragging');\n          showDrag = true;\n      });\n      $body.bind('dragover', function(){\n          showDrag = true;\n      });\n      $body.bind('dragleave drop', function () {\n        showDrag = false;\n        clearTimeout( timeout );\n        // remove the dragging classes on a timeout to prevent UI flicker\n        timeout = setTimeout( function(){\n          if( !showDrag ){\n            dropTarget.removeClass('dragging-target');\n            $body.removeClass('file-dragging');\n          }\n        }, 100 );\n      });\n\n      $scope.$on('$destroy', function () {\n        // prevent memory leaks by cleaning up event bindings\n        $body.unbind('dragenter dragover dragleave drop');\n      });\n\n    }\n  };\n\n});\n\nexport default dragIndicatorDirective;\n"]}