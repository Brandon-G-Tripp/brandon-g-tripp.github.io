{"version":3,"sources":["common/directives/mainwrap/mainwrap.js"],"names":["angular","MainwrapCtrl","authService","configService","fromNowFilter","htmlFilter","mainwrapModule","module","name","directive","templateUrl","restrict","transclude","controller","controllerAs","link","scope","element","attrs","$observe","value","toolbarTemplate","subnavToggle","bindToController","$http","$templateCache","$compile","loadTemplate","template","get","cache","success","templateContent","replaceWith","$watch","run","d","s","id","js","fjs","getElementsByTagName","p","test","location","getElementById","createElement","src","parentNode","insertBefore","document"],"mappings":"AAAA;;AAEA,OAAO,SAAS,CAAC,WAAW,oBAAoB,kBAAkB,iBAAiB,oBAAoB,gBAAgB,mBAAmB,yBAAyB,gCAAgC,iBAAiB,iCAAiC,+BAA+B,UAAU,SAAS,UAAU;EAC/S;;EAEA,IAAI,SAAS,cAAc,aAAa,eAAe,eAAe,YAAY;EAClF,OAAO;IACL,SAAS,CAAC,UAAU,UAAU;MAP3BA,UAQS,SAAS;OAClB,UAAU,kBAAkB,IAAI,UAAU,cAAc,IAAI,UAAU,aAAa,IAAI,UAAU,gBAAgB,IAAI,UAAU,YAAY,IAAI,UAAU,cAAc,IAAI,UAAU,qBAAqB;MAF1MC,eAGc,oBAAoB;OAClC,UAAU,4BAA4B;MAHtCC,cAIa,2BAA2B;OACxC,UAAU,eAAe;MAJzBC,gBAKe,cAAc;OAC7B,UAAU,6BAA6B;MALvCC,gBAMe,4BAA4B;OAC3C,UAAU,0BAA0B;MANpCC,aAOY,yBAAyB;;IAExC,SAAS,YAAY;MAPnBC,iBAAiBN,QAAQO,OAAO,eAAe,CACnD,gDACA,+CACA,kDACA,8CACAL,YAAYM,MACZL,cAAcK,MACdJ,cAAcI,MACdH,WAAWG;MAGbF,eAAeG,UAAU,YAAY,YAAY;QAC/C,OAAO;UACLC,aAAa;UACbC,UAAU;UACVC,YAAY;UACZC,YAAYZ;UACZa,cAAc;UACdC,MAAM,SAAA,KAAUC,OAAOC,SAASC,OAAOL,YAAY;YACjDK,MAAMC,SAAS,mBAAkB,UAASC,OAAM;cAC5CJ,MAAMK,kBAAkBD;;YAE5BF,MAAMC,SAAS,gBAAgB,UAAUC,OAAO;cAC9CP,WAAWS,eAAeF;;;UAG9BG,kBAAkB;YAChBD,cAAc;;;;MAKpBhB,eAAeG,UAAU,wDAAgB,UAAUe,OAAOC,gBAAgBC,UAAU;QAClF,OAAO;UACLd,YAAY;UACZG,MAAM,SAAA,KAASC,OAAOC,SAASC,OAAO;YACpC,SAASS,aAAaC,UAAU;cAC9BJ,MAAMK,IAAID,UAAU;gBAAEE,OAAOL;iBAC1BM,QAAQ,UAASC,iBAAiB;gBACjCf,QAAQgB,YAAYP,SAASM,iBAAiBhB;;;;YAIpDA,MAAMkB,OAAOhB,MAAMU,UAAU,UAAUR,OAAO;cAC5C,IAAIA,OAAO;gBACTO,aAAaP;;;;YAIjB,IAAKF,MAAMU,UAAW;cACpBD,aAAaT,MAAMU;;;;;MAM3BtB,eAAeG,UAAU,mBAAmB,YAAW;QACvD,OAAO;UACFE,UAAU;UACViB,UAAU;UACVb,MAAM,SAAA,KAASC,OAAOC,SAASC,OAAO;YAErC,CAAC,SAASiB,MAAK;cACV,CAAC,UAASC,GAAEC,GAAEC,IAAG;gBAAC,IAAIC;oBAAGC,MAAIJ,EAAEK,qBAAqBJ,GAAG;oBAAGK,IAAE,SAASC,KAAKP,EAAEQ,YAAU,SAAO;;gBAAQ,IAAG,CAACR,EAAES,eAAeP,KAAI;kBAACC,KAAGH,EAAEU,cAAcT;kBAAGE,GAAGD,KAAGA;kBAAGC,GAAGQ,MAAIL,IAAE;kBAAqCF,IAAIQ,WAAWC,aAAaV,IAAGC;;gBAAQU,UAAS,UAAS;;;;;;MAa1Q,QAAQ,WANC5C;;;GASZ","file":"mainwrap.js","sourcesContent":["import angular from 'angular';\nimport 'angular-material';\nimport './mainwrap.tpl';\nimport './navList.tpl';\nimport './socialList.tpl';\nimport './footer.tpl';\nimport './mainwrap.css!';\nimport MainwrapCtrl from './mainwrap.controller';\nimport authService from 'common/services/auth.service';\nimport configService from 'config/config';\nimport fromNowFilter from 'common/filters/fromNow.filter';\nimport htmlFilter from 'common/filters/html.filter';\n\nconst mainwrapModule = angular.module('mainwrap.js', [\n  'common/directives/mainwrap/mainwrap.tpl.html',\n  'common/directives/mainwrap/navList.tpl.html',\n  'common/directives/mainwrap/socialList.tpl.html',\n  'common/directives/mainwrap/footer.tpl.html',\n  authService.name,\n  configService.name,\n  fromNowFilter.name,\n  htmlFilter.name\n]);\n\nmainwrapModule.directive('mainWrap', function () {\n  return {\n    templateUrl: 'common/directives/mainwrap/mainwrap.tpl.html',\n    restrict: 'EA',\n    transclude: true,\n    controller: MainwrapCtrl,\n    controllerAs: 'mainwrapCtrl',\n    link: function (scope, element, attrs, controller) {\n      attrs.$observe('toolbarTemplate',function(value){\n          scope.toolbarTemplate = value;\n      });\n      attrs.$observe('subnavToggle', function (value) {\n        controller.subnavToggle = value;\n      })\n    },\n    bindToController: {\n      subnavToggle: '@'\n    }\n  };\n});\n\nmainwrapModule.directive('extraToolbar', function ($http, $templateCache, $compile) {\n  return {\n    transclude: true,\n    link: function(scope, element, attrs) {\n      function loadTemplate(template) {\n        $http.get(template, { cache: $templateCache })\n          .success(function(templateContent) {\n            element.replaceWith($compile(templateContent)(scope));\n          });\n      }\n\n      scope.$watch(attrs.template, function (value) {\n        if (value) {\n          loadTemplate(value);\n        }\n      });\n\n      if ( attrs.template ) {\n        loadTemplate(attrs.template);\n      }\n    }\n  }\n});\n\nmainwrapModule.directive('twitterTimeline', function() {\nreturn {\n     restrict: 'E',\n     template: '<a class=\"twitter-timeline\" href=\"https://twitter.com/openlegendrpg\" data-widget-id=\"696092295943319552\">Tweets by @openlegendrpg</a>',\n     link: function(scope, element, attrs) {\n\n      (function run(){\n          (!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\"://platform.twitter.com/widgets.js\";fjs.parentNode.insertBefore(js,fjs);}}(document,\"script\",\"twitter-wjs\"));\n      })();\n\n     }\n   };\n});\n\nexport default mainwrapModule;\n"]}