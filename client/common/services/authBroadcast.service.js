System.register(["angular"],function(_export){var angular,authBroadcastModule;return{setters:[function(_angular){angular=_angular["default"]}],execute:function(){"use strict";authBroadcastModule=angular.module("authBroadcast.service.js",[]),authBroadcastModule.constant("AUTH_EVENTS",{loginSuccess:"login.success",loginFailed:"login.failed",sessionTimeout:"auth.session.timeout",serverError:"auth.serverError"}),authBroadcastModule.factory("authBroadcast",["$rootScope","$q","AUTH_EVENTS",function($rootScope,$q,AUTH_EVENTS){return{response:function(res){return _.isEmpty(res.data.token)||200!==res.status||$rootScope.$broadcast({200:AUTH_EVENTS.loginSuccess}[res.status],res),res},responseError:function(res){return res.status&&res.data.code?$rootScope.$broadcast({"authentication.failed":AUTH_EVENTS.loginFailed,"authentication.invalid":AUTH_EVENTS.sessionTimeout}[res.data.code],res):500===res.status&&$rootScope.$broadcast(AUTH_EVENTS.serverError,res),$q.reject(res)}}}]),authBroadcastModule.config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push("authBroadcast")}]),_export("default",authBroadcastModule)}}});